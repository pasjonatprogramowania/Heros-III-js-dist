(function(t){function e(e){for(var n,i,u=e[0],s=e[1],c=e[2],p=0,d=[];p<u.length;p++)i=u[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,u=1;u<a.length;u++){var s=a[u];0!==r[s]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=s;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("unitTests"),a("gameBoard")],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},u=[],s=a("d4ec"),c=a("bee2"),l=(a("d81d"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("3835")),p=a("b85c"),d=(a("4de4"),a("4160"),a("159b"),function(){function t(){Object(s["a"])(this,t),this.creatureList=new Map,this.counterToRemove}return Object(c["a"])(t,[{key:"initQueue",value:function(t){this.creatureList=t,this.counterToRemove=0}},{key:"getActiveCreature",value:function(){var t=[];this.creatureList.forEach((function(e,a){return t[parseInt(a)]=e})),this.creatureList.delete(this.counterToRemove),this.counterToRemove++;var e=t.filter((function(t){return t})),a=Object(l["a"])(e,1),n=a[0];return n}},{key:"next",value:function(){if(0==this.creatureList.size)return!0}}]),t}()),f=function(){function t(){Object(s["a"])(this,t),this.map=new Map,this.boardSize=300,this.boardX=20,this.boardY=15,this.creatureTurnQueue=new d}return Object(c["a"])(t,[{key:"add",value:function(t,e){if(this.map.has(t))throw"Exception: => To pole jest zajete, nie mozesz tam dodac jednostki";if(t.position>this.boardSize)throw"Exception: => Creature nie zostala ruszona, wskazaany pkt jest poza mapa";if(this.map.set(t,e),JSON.stringify(this.map.get(t))===JSON.stringify(e.stats))throw"Exception: => Klucz nie jest równy tej wartosci która powinna byc wpisana"}},{key:"getVal",value:function(t){return this.map.get(t)}},{key:"getPoint",value:function(t){var e,a=Object(p["a"])(this.map.entries());try{for(a.s();!(e=a.n()).done;){var n=Object(l["a"])(e.value,2),r=n[0],o=n[1];if(o===t)return r}}catch(i){a.e(i)}finally{a.f()}}},{key:"moveByCreature",value:function(t,e){this.move(this.getPoint(t),e)}},{key:"move",value:function(t,e){if(e.position>this.boardSize)throw"Exception: => Creature nie zostala ruszona, wskazaany pkt jest poza mapa";if(this.map.has(e))throw"Exception: => To pole jest zajete, nie mozesz tam ruszyc jednostki";var a=this.map.get(t);this.map.delete(t),this.map.set(e,a)}}]),t}(),h=(a("b0c0"),function(){function t(e,a,n,r,o){Object(s["a"])(this,t),this.name=e,this.attack=a,this.armor=n,this.maxHp=r,this.moveRange=o}return Object(c["a"])(t,[{key:"getName",value:function(){return this.name}},{key:"getAttack",value:function(){return this.attack}},{key:"getArmor",value:function(){return this.armor}},{key:"getMaxHp",value:function(){return this.maxHp}},{key:"getMoveRange",value:function(){return this.moveRange}}]),t}()),v=function(){function t(e,a,n,r,o){Object(s["a"])(this,t),this.stats=this.createCreature(e,a,n,r,o),this.stats.currentHp=this.stats.maxHp}return Object(c["a"])(t,[{key:"createCreature",value:function(t,e,a,n,r){return new h(t||"Smok",e||1,a||1,n||100,r||10)}},{key:"setDefaultStats",value:function(){this.stats.wasCounterAttack=!1,this.stats.currentHp=void 0!=this.stats.currentHp?this.stats.currentHp:this.stats.maxHp}},{key:"attack",value:function(t){t.setDefaultStats(),this.setDefaultStats(),t.isAlive()&&(t.stats.currentHp=this.calculateDamage(t),t.isAlive()&&!t.stats.wasCounterAttack&&(t.stats.wasCounterAttack=!0,this.stats.currentHp=t.calculateDamage(this)))}},{key:"calculateDamage",value:function(t){return t.stats.currentHp-this.stats.getAttack()+t.stats.getArmor()>t.stats.getMaxHp()?t.stats.currentHp:t.stats.currentHp-this.stats.getAttack()+t.stats.getArmor()}},{key:"isAlive",value:function(){if(this.stats.currentHp>0)return!0}},{key:"getCurrentHp",value:function(){return this.stats.currentHp}}]),t}(),m=function(){function t(){Object(s["a"])(this,t)}return Object(c["a"])(t,[{key:"mapShouldHaveKeyAndValue",value:function(){var t=new f,e=new v,a=1;if(t.add(a,e),void 0===t.getVal(a))throw"Exception: => Creature dla tego pola zwraca undefined"}},{key:"shouldReturnCorrectLocationForCreatureByCreature",value:function(){var t=new f,e=new v,a=0;if(t.add(a,e),t.getPoint(e)!==a)throw"Exception: => getPoint nie poprawnie zwraca Creature"}},{key:"cretureShouldMoveCorrectly",value:function(){var t=new f,e=new v,a=0;t.add(a,e);var n=1;if(t.move(a,n),t.getVal(a))throw"Exception: => Creature nie zostala poprawnie usunieta, na jej starym miejscu jest slad po niej";if(t.getVal(n)!==e)throw"Exception: => Creature nie zostala poprawnie usunieta, w jej nowym miejscu nie ma tej samej creatury"}}]),t}(),y=function(){function t(){Object(s["a"])(this,t)}return Object(c["a"])(t,[{key:"queueShoulChangeActiveCreature",value:function(){var t=new d,e=new v("aaaa",1,1,1,1),a=new v("bbbb",1,1,1,1),n=new v("cccc",1,1,1,1),r=new Map;r.set(0,e),r.set(1,a),r.set(2,n),t.initQueue(r),r.forEach((function(e){if(e!==t.getActiveCreature())throw"Exception: => Kolejka nie dziala poprawnie";t.next()&&t.initQueue(r)}))}}]),t}(),k=function(){function t(){Object(s["a"])(this,t),this.notImportant=0}return Object(c["a"])(t,[{key:"creatureShouldLost10HpWhenAttackerHas20AttackAndDefenderHas10Armor",value:function(){var t=new v("Attack",20,5,100,this.notImportant),e=new v("Defender",5,10,150,this.notImportant);if(t.attack(e),140!=e.getCurrentHp())throw console.log("defender.getCurrentHp()",e.getCurrentHp()),"Exception: => Creature nie zadala poprawnie obrazen"}},{key:"creatureShouldNotSelfHealWhenAttackerHasLowerAttackThenDefenderArmor",value:function(){var t=new v("Attack",20,5,100,this.notImportant),e=new v("Defender",5,100,100,this.notImportant);if(t.attack(e),e.getCurrentHp()>e.stats.getMaxHp())throw"Exception: => Creatura uleczyla sie podczas ataku"}}]),t}(),b=function(){function t(){Object(s["a"])(this,t),this.notImportant=0}return Object(c["a"])(t,[{key:"creatureShouldCounterAttack",value:function(){var t=new v("Attack",5,5,100,this.notImportant),e=new v("Defender",20,20,100,this.notImportant);if(t.attack(e),t.getCurrentHp()>85)throw"Exception: => Creatura zle wykonala kontr attack"}},{key:"creatureShouldCounterAttackOnlyOnceAtTour",value:function(){var t=new v("Attack",5,5,100,this.notImportant),e=new v("Attack2",5,5,100,this.notImportant),a=new v("Defender",20,20,100,this.notImportant);if(t.attack(a),85!=t.getCurrentHp()||100!=e.getCurrentHp())throw"Exception: => Creatura atakuje wiecej niz raz"}}]),t}(),w=new m,g=new y,C=new k,j=new b;C.creatureShouldLost10HpWhenAttackerHas20AttackAndDefenderHas10Armor(),C.creatureShouldNotSelfHealWhenAttackerHasLowerAttackThenDefenderArmor(),j.creatureShouldCounterAttack(),j.creatureShouldCounterAttackOnlyOnceAtTour(),g.queueShoulChangeActiveCreature(),w.mapShouldHaveKeyAndValue(),w.shouldReturnCorrectLocationForCreatureByCreature(),w.cretureShouldMoveCorrectly();var A={data:function(){return{}}},O=A,H=a("2877"),S=Object(H["a"])(O,i,u,!1,null,"0d552f4d",null),x=S.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"side-board"},t._l(t.gameEngine.board.boardY,(function(e){return a("div",{key:e},[a("div",{staticClass:"my-creature field",attrs:{positionOnPlayer:""+e}},[t._v(" "+t._s(e)+" ")])])})),0),a("div",{staticClass:"board"},t._l(t.gameEngine.board.boardSize,(function(e){return a("div",{key:e},[a("div",{staticClass:"board-creature field",attrs:{positionOnBoard:""+e}},[t._v(" "+t._s(e)+" ")])])})),0),a("div",{staticClass:"side-board"},t._l(t.gameEngine.board.boardY,(function(e){return a("div",{key:e},[a("div",{staticClass:"ennemy-creature field",attrs:{positionOnEnnemy:""+e}},[t._v(" "+t._s(e)+" ")])])})),0)]),t._m(1)])},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("h1",[t._v("Player 1 vs Player 2")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",[a("button",[t._v("Spell Book")]),a("button",[t._v("Pass")]),a("button",[t._v("Defend")]),a("button",[t._v("Run")])])])}],_=(a("25f0"),function(){function t(e,a){Object(s["a"])(this,t),this.board=new f,this.queue=new d,this.creaturesOnBoard=[],this.putCreatureToBoard(e,a),this.map=new Map}return Object(c["a"])(t,[{key:"putCreatureToBoard",value:function(t,e){this.putCreaturesFromeOneSideToBoard(t,!1),this.putCreaturesFromeOneSideToBoard(e,!0),this.queue.initQueue(this.board.map)}},{key:"putCreaturesFromeOneSideToBoard",value:function(t,e){var a=this;t.forEach((function(t,n){a.board.add(e?(n+285).toString():n.toString(),t),a.creaturesOnBoard.push({creature:t,position:e?n+285:n,player:e?"ennemy":"player"})}))}},{key:"move",value:function(t){this.board.moveByCreature(this.queue.getActiveCreature,t)}},{key:"pass",value:function(){this.queue.next()}},{key:"attack",value:function(t){this.queue.getActiveCreature().attack(this.board.getVal(t))}}]),t}()),T={data:function(){return{gameEngine:new v}},created:function(){this.createGameEngineObjectAndBoard()},mounted:function(){this.putCreaturesOnBoard()},methods:{createGameEngineObjectAndBoard:function(){var t=new v("smok1"),e=new v("smok2"),a=new v("smok3"),n=new v("smok4"),r=new v("smok5"),o=new v("smok6"),i=[];i.push(t,e,a);var u=[];u.push(n,r,o),this.gameEngine=new _(i,u)},putCreaturesOnBoard:function(){var t=this;this.gameEngine.creaturesOnBoard.forEach((function(e,a){if(e.position+1<=15){if(e.creature.stats.name||e.creature.stats.attack||e.creature.stats.armor||e.creature.stats.maxHp||e.creature.stats.moveRange){var n=document.querySelector("div[positionOnPlayer='".concat(e.position+1,"']"));n.innerHTML=e.creature.stats.name,n.setAttribute("name","".concat(e.creature.stats.name)),n.setAttribute("id","".concat(a)),n.setAttribute("player","".concat(e.player)),n.setAttribute("position","".concat(e.position+1))}}else if(e.creature.stats.name||e.creature.stats.attack||e.creature.stats.armor||e.creature.stats.maxHp||e.creature.stats.moveRange){var r=document.querySelector("div[positionOnEnnemy='".concat(e.position+1-285,"']"));r.innerHTML=e.creature.stats.name,r.setAttribute("name","".concat(e.creature.stats.name)),r.setAttribute("id","".concat(a)),r.setAttribute("player","".concat(e.player)),r.setAttribute("position","".concat(e.position+1))}e.creature===t.gameEngine.queue.getActiveCreature()&&document.querySelector("div[id='".concat(a,"']")).setAttribute("style","background-color:green")}))}}},B=T,M=(a("9753"),Object(H["a"])(B,E,z,!1,null,null,null)),P=M.exports,D={name:"App",components:{unitTests:x,gameBoard:P}},L=D,I=Object(H["a"])(L,r,o,!1,null,null,null),R=I.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(R)}}).$mount("#app")},9753:function(t,e,a){"use strict";a("a4a4")},a4a4:function(t,e,a){}});
//# sourceMappingURL=app.ea7c9f9f.js.map